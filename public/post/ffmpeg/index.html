<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>开源免费音视频处理神器 FFmpeg - 极限玩家博客</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="南极神" /><meta name="description" content="FFmpeg 是一款免费开源（LGPL、GPL 许可证），且领先的全能型多媒体处理软件，可以处理视频、音乐及图片，它采用了非常先进的音频/视频编解码库 li" /><meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.83.1 with theme even" />


<link rel="canonical" href="https://t.ttti.cc/post/ffmpeg/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">


<meta property="og:title" content="开源免费音视频处理神器 FFmpeg" />
<meta property="og:description" content="FFmpeg 是一款免费开源（LGPL、GPL 许可证），且领先的全能型多媒体处理软件，可以处理视频、音乐及图片，它采用了非常先进的音频/视频编解码库 li" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://t.ttti.cc/post/ffmpeg/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2020-09-26T16:04:00&#43;08:00" />
<meta property="article:modified_time" content="2020-09-26T16:04:00&#43;08:00" />

<meta itemprop="name" content="开源免费音视频处理神器 FFmpeg">
<meta itemprop="description" content="FFmpeg 是一款免费开源（LGPL、GPL 许可证），且领先的全能型多媒体处理软件，可以处理视频、音乐及图片，它采用了非常先进的音频/视频编解码库 li"><meta itemprop="datePublished" content="2020-09-26T16:04:00&#43;08:00" />
<meta itemprop="dateModified" content="2020-09-26T16:04:00&#43;08:00" />
<meta itemprop="wordCount" content="2650">
<meta itemprop="keywords" content="ffmpeg," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="开源免费音视频处理神器 FFmpeg"/>
<meta name="twitter:description" content="FFmpeg 是一款免费开源（LGPL、GPL 许可证），且领先的全能型多媒体处理软件，可以处理视频、音乐及图片，它采用了非常先进的音频/视频编解码库 li"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">极限博客</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">首页</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">存档</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">标签</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">分类</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">极限博客</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">首页</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">存档</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">标签</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">分类</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">开源免费音视频处理神器 FFmpeg</h1>

      <div class="post-meta">
        <span class="post-time"> 2020-09-26 </span>
        <div class="post-category">
            <a href="/categories/%E8%BD%AF%E4%BB%B6/"> 软件 </a>
            </div>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#ffmpeg-的安装">FFmpeg 的安装</a></li>
        <li><a href="#ffmpeg-的使用">FFmpeg 的使用</a>
          <ul>
            <li><a href="#格式转换">格式转换</a></li>
            <li><a href="#压缩视频">压缩视频</a></li>
            <li><a href="#转成-gif-动图">转成 GIF 动图</a></li>
            <li><a href="#选项与参数">选项与参数</a></li>
            <li><a href="#指定转换格式">指定转换格式</a></li>
            <li><a href="#合并-mp4-视频">合并 MP4 视频</a></li>
            <li><a href="#更改分辨率大小">更改分辨率大小</a></li>
            <li><a href="#转换视频码率">转换视频码率</a></li>
            <li><a href="#剪辑视频">剪辑视频</a></li>
            <li><a href="#图片与视频转换">图片与视频转换</a></li>
            <li><a href="#音频视频分离与合并">音频视频分离与合并</a></li>
            <li><a href="#对视频进行操作">对视频进行操作</a></li>
            <li><a href="#合并图片为视频">合并图片为视频</a></li>
            <li><a href="#视频添加水印">视频添加水印</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p><strong>FFmpeg 是一款免费开源（LGPL、GPL 许可证），且领先的全能型多媒体处理软件</strong>，可以处理视频、音乐及图片，它采用了非常先进的音频/视频编解码库 libavcodec，能够进行采集、编码、解码、转码、压缩、合并、流化、音视频分离等操作。</p>
<p>不过呢，对于一般电脑用户来说很少会用，因为它是基于命令行的，但是很多软件都使用了它的开源框架，比如：QQ 影音、KMPlayer、暴风影音，以及早期的 Potplayer。</p>
<p>可以说 FFmpeg 是音视频处理界的神器，然而对于小白来说看起来非常难，导致上手困难，但其实操作并没有那么复杂，为了帮助小白打开这扇门，于是就有了这篇文章&hellip; 不点个赞吗？</p>
<h2 id="ffmpeg-的安装">FFmpeg 的安装</h2>
<p>首先就是去<a href="http://ffmpeg.org">官网下载</a>了，在下面选择 Windows 已经构建好的版本，下载后将压缩包解压，其中 bin 文件夹中的程序就是我们要的。</p>
<p>我个人通常会将 bin 文件夹重命名为 FFmpeg，然后将其移动到个人的软件目录中，我的个人软件目录<code>C:\Users\nanji\OneDrive\Apps\FFmpeg</code>，当然你也可以放到任意目录。</p>
<p>将上面的路径添加到添加环境变量，以便可以在命令行中直接调用：按 [Win]键，输入 env ，点击“编辑系统环境变量”，在下方点击“环境变量”，之后在系统变量中双击 Path ，添加上面的路径即可，如图所示：</p>
<p>加入环境变量后就算完成了，在终端中执行下 <code>ffmpeg</code> 看看是否安装成功，如下图所示就表示成功</p>
<h2 id="ffmpeg-的使用">FFmpeg 的使用</h2>
<p>这里说说简单的日常使用，如果你是更专业的用户，可以参考官方帮助，了解更高级的用法，不过一般来说，这些对普通用户就足够了~</p>
<h3 id="格式转换">格式转换</h3>
<p>最常用的就是一个文件的格式转换成另一个：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">ffmpeg -i filename.flv filename.mp4
# 反之
ffmpeg -i filename.mp4 filename.flv

# 拷贝转换，即保持原样的编码进行格式转换
ffmpeg -i filename.flv -vcodec copy -acodec copy filename.mp4

# 中文名音乐转换
ffmpeg -i &#39;.\下辈子不一定遇见.m4a&#39; -f mp3 &#39;.\下辈子不一定遇见.mp3&#39;
</code></pre></td></tr></table>
</div>
</div><h3 id="压缩视频">压缩视频</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback"># 降低fps和音频码率以减少大小，同时视频清晰度不变
ffmpeg -i filename.mp4 -r 10 -b:a 32k filename.mp4

# 采用H.264算法压缩视频，并指定10fps，以AAC算法压缩音频，码率32k
ffmpeg -i filename.mp4 -vcodec libx264 -crf 20 filename.mp4 #

# 再比如
ffmpeg -i filename.mp4 -crf 30 filename.mp4
ffmpeg -i 480p.mp4 480p.webm
</code></pre></td></tr></table>
</div>
</div><h3 id="转成-gif-动图">转成 GIF 动图</h3>
<p>可以将视频转成 Gif 动图：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback"># 将视频前 30 帧转成 Gif 动图
ffmpeg -i filename.mp4 -vframes 30 -y -f gif filename.gif

# 将视频转成 Gif 并指定时间和帧率
ffmpeg -ss 00:00:00.000 -i filename.mp4 -pix_fmt rgb24 -r 10 -s 320x240 -t 00:00:10.000 filename.gif
# 上面的参数说明：
-ss 指定了开始时间
-r 指定了以 10 帧频率
-s 指定了输出 320x240 大小
-t 指定了时间长度

# 将视频转为 gif，用 -pix_fmt 指定编码
ffmpeg -i filename.mp4 -ss 0:0:30 -t 10 -s 320x240 -pix_fmt rgb24 filename.gif
</code></pre></td></tr></table>
</div>
</div><h3 id="选项与参数">选项与参数</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">-i ：输入的文件，即文件的全面（filename）
-vcodec ：编码格式，支持主流的 H.264和H.265（默认值：xvid）
-preset ：编码速率控制，编码越快，信息丢失越多，即视频质量变差
-crt ：输出质量的（0-51）0 为最高质量，默认值 23，建议值 18-28
-y ：不经提示的覆盖输出文件
-vf ：视频过滤器
-acodec ：音频编码方式
-ab ：音频数据流量，一般选择 32，64，96，128（推荐）
</code></pre></td></tr></table>
</div>
</div><p>注：-crt 会直接影响到输出视频的码率，之后再设置－b 指定码率将不会生效；-preset 例如 x264 编码的预设值可以通过该参数指定。它主要影响编码的速度，并不会很大的影响编码出来的结果的质量。</p>
<h3 id="指定转换格式">指定转换格式</h3>
<p>用 -vcodec 参数来手动指定格式：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">ffmpeg -i filename.wmv -vcodec h264 filename.mp4
ffmpeg -i filename.mp4 -vcodec wmv1 filename.wmv
</code></pre></td></tr></table>
</div>
</div><p>H264为最佳，当然你还可以指定 mpeg4、libxvid，不过呢 FFmpeg 默认会根据文件格式选择最合适的容器格式与编码格式，一般不用指定的。</p>
<p><strong>其它的附加选项：</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">-r ：指定帧率
-s ：指定分辨率
-b ：指定比特率；于此同时可以对声道进行转码
-acodec ：指定音频编码
-ab ：指定音频比特率
-ac ：指定声道数

示例：
ffmpeg -i filename.wmv -s 640x480 -b 500k -vcodec h264 -r 30 -acodec libfaac -ab 48k -ac 2 filename.mp4
</code></pre></td></tr></table>
</div>
</div><h3 id="合并-mp4-视频">合并 MP4 视频</h3>
<p>将多个视频合并：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback"># mp4 最好是先转成无损的 ts 后再进行合并
ffmpeg -i file1.mp4 -vcodec copy -acodec copy -vbsf h264_mp4toannexb file1.ts
ffmpeg -i file2.mp4 -vcodec copy -acodec copy -vbsf h264_mp4toannexb file2.ts
ffmpeg -i &#34;concat:file1.ts|file2.ts&#34; -acodec copy -vcodec copy -absf aac_adtstoasc filename.mp4
</code></pre></td></tr></table>
</div>
</div><h3 id="更改分辨率大小">更改分辨率大小</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">ffmpeg -i filename.mp4 -filter:v scale=1280:720 -c:a copy filename.mp4
# 又或者
ffmpeg -i filename.mp4 -s 1280x720 -c:a copy filename.mp4
</code></pre></td></tr></table>
</div>
</div><p>也可以调整视频的宽高比，：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">ffmpeg -i filename.mp4 -aspect 16:9 filename.mp4
</code></pre></td></tr></table>
</div>
</div><h3 id="转换视频码率">转换视频码率</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback"># 将视频转换成 3 Mbps 码率的视频
ffmpeg -i filename.mp4 -b:v 3000k filename.mp4

# 官方建议用 -b:v 时，应同时加上 -bufsize 用于设置码率控制缓冲器大小
ffmpeg -i filename.mp4 -b:v 3000k -bufsize 3000k filename.mp4

# 指定码率阈值，-minrate（别低于）和 -maxrate（别高于）
ffmpeg -i filename.mp4 -b:v 3000k -bufsize 3000k -maxrate 3500k filename.mp4
</code></pre></td></tr></table>
</div>
</div><h3 id="剪辑视频">剪辑视频</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback"># 从 00:00:21 开始剪辑，时间为 10 秒钟
ffmpeg -i filename.mov -ss 00:00:21 -t 00:00:10 -acodec aac -vcodec h264 -strict -2 filename.mp4

# 裁剪参数 crop=width:height:x:y 说明：
# width 和 height 表示剪裁后的宽和高的尺寸，
# x:y 表示裁剪区域的左上角坐标

# 截取视频局部
ffmpeg -i filename.mp4 -filter:v &#34;crop=width:height:x:y&#34; filename.mp4

# 将竖向的视频 1080 x 1920，保留中间 1080×1080 部分
ffmpeg -i filename.mp4 -strict -2 -vf crop=1080:1080:0:420 filename.mp4

# 截取部分视频，从[80,60]的位置开始，截取宽200，高100的视频
ffmpeg -i filename.mp4 -filter:v &#34;crop=80:60:200:100&#34; -c:a copy filename.mp4

# 截取右下角的四分之一
ffmpeg -i filename.mp4 -filter:v &#34;crop=in_w/2:in_h/2:in_w/2:in_h/2&#34; -c:a copy filename.mp4

# 截去底部40像素高度
ffmpeg -i filename.mp4 -filter:v &#34;crop=in_w:in_h-40&#34; -c:a copy filename.mp4
</code></pre></td></tr></table>
</div>
</div><h3 id="图片与视频转换">图片与视频转换</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback"># 将图片序列合成视频
ffmpeg -f image2 -i image%d.jpg filename.mp4

# 将视频分解成图片序列
ffmpeg -i filename.mp4 image%d.jpg

# 将视频的 8.01 秒处截取 800*600 的缩略图
ffmpeg -i filename.mp4 -y -f image2 -ss 08.010 -t 0.001 -s 800x600 jt.jpg
ffmpeg -r 0.5 -i c:/tmp/image%04d.jpg -i c:/time.mp3 -vcodec mpeg4 c:/filename.mp4
</code></pre></td></tr></table>
</div>
</div><h3 id="音频视频分离与合并">音频视频分离与合并</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback"># 从视频中去除音频，使用 -an 参数去掉音频，使用 -vcodec copy 表示拷贝视频原样
ffmpeg -i filename.mp4 -vcodec copy -an filename.mp4

# 提取视频中的音频，使用 -vn 参数去掉视频，-acodec copy 表示拷贝音频原样
ffmpeg -i filename.mp4 -acodec copy -vn filename.mp3

# 音频与视频合成，使用 -y 参数表示覆盖输出文件
ffmpeg -y –i filename.mp4 –i filename.mp3 –vcodec copy –acodec copy filename.mp4
</code></pre></td></tr></table>
</div>
</div><h3 id="对视频进行操作">对视频进行操作</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback"># 剪切视频，-ss 表示开始时间; -t 表示持续时间
ffmpeg -ss 0:2:50 -t 0:0:20 -i filename.mp4 -vcodec copy -acodec copy filename.mp4

# 视频截图，-s 设置分辨率; -f 强迫采用格式 fmt
ffmpeg –i filename.mp4 –f image2 -t 0.001 -s 320x240 image-%3d.jpg

# 视频分解为图片，-r 指定截屏频率
ffmpeg –i filename.mp4 –r 1 –f image2 image-%3d.jpg

# 视频拼接
ffmpeg -f concat -i filelist.txt -c copy output.mp4

# 旋转视频
ffmpeg -i filename.mp4 -vf rotate=PI/2 filename.mp4

# 缩放视频，iw 表示输入的宽度，iw/2 就是一半; -1 为保持宽高比
ffmpeg -i filename.mp4 -vf scale=iw/2:-1 filename.mp4

# 视频变速
ffmpeg -i filename.mp4 -filter:v setpts=0.5*PTS filename.mp4

# 音频变速
ffmpeg -i filename.mp3 -filter:a atempo=2.0 filename.mp3

# 音视频同时变速，但音视频为互倒关系
ffmpeg -i filename.mp4 -filter_complex &#34;[0:v]setpts=0.5*PTS[v];[0:a]atempo=2.0[a]&#34; -map &#34;[v]&#34; -map &#34;[a]&#34; filename.mp4
</code></pre></td></tr></table>
</div>
</div><h3 id="合并图片为视频">合并图片为视频</h3>
<p>将要合并的图片放在同一个文件夹中，然后重命名为：img001.png, img002.png, img003.png</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">ffmpeg -framerate 24 -i img%03d.png filename.mp4
# 或者
ffmpeg -r 0.5 -i img%03d.jpg filename.mp4

# 将图片合成视频
ffmpeg -f image2 -i img%d.jpg filename.mp4
</code></pre></td></tr></table>
</div>
</div><h3 id="视频添加水印">视频添加水印</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback"># 视频添加水印，main_w-overlay_w-10 表示视频的宽度-水印的宽度-水印边距
ffmpeg -i filename.mp4 -i logo.jpg -filter_complex [0:v][1:v]overlay=main_w-overlay_w-10:main_h-overlay_h-10[out] -map [out] -map 0:a -codec:a copy filename.mp4
</code></pre></td></tr></table>
</div>
</div><p><strong>FFmpeg</strong> 这个神器非常值得学习，因为视频在今天来说是很主流的内容载体，虽然对小白来来说，看起来很复杂，但其实只要掌握几个基本命令就足够了，同时它在 Windows 和 Linux 上都可以使用。</p>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">南极神</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        2020-09-26
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/ffmpeg/">ffmpeg</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/youtubecouts/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Youtube 详细统计信息测速指南</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/post/youtubedl/">
            <span class="next-text nav-default">youtube-dl 下载视频使用指南</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:njx.xyz@email.com" class="iconfont icon-email" title="email"></a>
      <a href="https://twitter.com/nanjishen" class="iconfont icon-twitter" title="twitter"></a>
      <a href="https://ttti.cc" class="iconfont icon-github" title="github"></a>
      <a href="https://weibo.com/nanjishen" class="iconfont icon-weibo" title="weibo"></a>
  <a href="https://t.ttti.cc/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2018 - 
    2021<span class="heart"><i class="iconfont icon-heart"></i></span><span>南极神</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>








</body>
</html>
